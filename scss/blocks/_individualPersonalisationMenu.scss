// Apologies if you're reading this - this code really needs tidying up!

.b-individualPersonalisationMenu{
  background-color: var(--color-background, white);
  border: 0.2rem solid var(--color-secondary-light);
  border-radius: 0.5rem;
  font-size: var(--size-500);
  line-height: 1.3;
  max-width: 20ch;
  position: absolute;
  top: 0;
  right: 0;
  width: 20ch;
  z-index: 999;
}

.b-individualPersonalisationMenu {
  * {
    color: var(--color-text, #000);
  }
  &__title {
    font-size: var(--size-500, 1.25rem);
    padding: 0.5rem;
  }
  &__details {
    ul{
      list-style: none;
      padding: 0;
      margin: 0
    }
    details[open] > summary {
      background-color: var(--color-quaternary, #008cc6);
      color: var(--color-text-alt-light, #fff);
    }
    details>summary{
      cursor:pointer;
      list-style:none;
      padding: 1rem;
    }
    details>summary::-webkit-details-marker{
      display:none
    }
    details>summary:hover{
      background-color: var(--color-tertiary, #12252d);
      color: var(--color-text-alt-light, #fff);
    }
    details form{
      padding:var(--space-s) var(--space-s)
    }
    details fieldset, details legend {
      border:0 solid transparent;
      padding:0.5rem;
      margin:0
    }
  }
  &__summary{
    cursor:pointer;
    list-style:none;
    padding: 1rem;
    text-align:center
  }
  &__summary::-webkit-details-marker{
    display:none
  }
  &__reset{
    border:0 none transparent;
    background-color: var(--color-background, white);
    padding:.5rem .5rem;
    border-top:.1rem solid var(--color-text, #000);;
    width:100%
  }
  &__reset:hover{
    background-color: var(--color-tertiary, #12252d);
    color: var(--color-text-alt-light, #fff);
    cursor:pointer;
  }
}

* + .b-individualPersonalisationMenu {
  clip:rect(0 0 0 0);
  margin:0;
  overflow:hidden;
  width:1px
}

*:focus + .b-individualPersonalisationMenu, :focus-within > * +.b-individualPersonalisationMenu, *:hover + .b-individualPersonalisationMenu {
  clip:unset !important;
  margin:auto !important;
  width:auto !important;
  overflow:auto !important;
}

.b-individualPersonalisationMenu:focus, .b-individualPersonalisationMenu:focus-within, .b-individualPersonalisationMenu:hover {
  clip:unset;
  margin:auto;
  width:auto;
  overflow:auto
}